<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Science Particles with Styled Controls</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(circle at center, #0d0d0d, #000);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #fff;
  }
  canvas {
    display: block;
  }
  #controls {
    position: absolute;
    top: 20px;
    left: 20px;
    background: rgba(0,0,0,0.6);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    width: 220px;
  }
  #controls h2 {
    margin: 0 0 10px;
    font-size: 18px;
    text-align: center;
    color: #ffcc00;
  }
  #controls label {
    display: block;
    margin: 15px 0 5px;
    font-size: 14px;
    color: #fff;
  }
  #controls input[type=range] {
    -webkit-appearance: none;
    width: 100%;
    height: 8px;
    background: #444;
    border-radius: 5px;
    outline: none;
    transition: background 0.3s;
  }
  #controls input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #ffcc00;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.5);
    transition: background 0.3s, transform 0.2s;
  }
  #controls input[type=range]::-webkit-slider-thumb:hover {
    background: #ffaa00;
    transform: scale(1.2);
  }
  #controls span {
    float: right;
    font-weight: bold;
    color: #ffcc00;
  }
</style>
</head>
<body>
<canvas id="particleCanvas"></canvas>

<div id="controls">
  <h2>Particle Controls</h2>
  <label>Count: <span id="countValue">100</span>
    <input type="range" id="count" min="10" max="300" value="100">
  </label>
  <label>Size: <span id="sizeValue">4</span>
    <input type="range" id="size" min="1" max="10" value="4">
  </label>
  <label>Speed: <span id="speedValue">1</span>
    <input type="range" id="speed" min="0.1" max="5" step="0.1" value="1">
  </label>
  <label>Link Distance: <span id="linkValue">120</span>
    <input type="range" id="link" min="50" max="300" value="120">
  </label>
</div>

<script>
const canvas = document.getElementById('particleCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const mouse = { x: null, y: null, radius: 100 };
window.addEventListener('mousemove', e => { mouse.x = e.x; mouse.y = e.y; });
window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; init(); });

// Controls
const countSlider = document.getElementById('count');
const sizeSlider = document.getElementById('size');
const speedSlider = document.getElementById('speed');
const linkSlider = document.getElementById('link');

const countValue = document.getElementById('countValue');
const sizeValue = document.getElementById('sizeValue');
const speedValue = document.getElementById('speedValue');
const linkValue = document.getElementById('linkValue');

let particleCount = +countSlider.value;
let particleSize = +sizeSlider.value;
let particleSpeed = +speedSlider.value;
let linkDistance = +linkSlider.value;

countSlider.oninput = () => { particleCount = +countSlider.value; countValue.textContent = particleCount; init(); };
sizeSlider.oninput = () => { particleSize = +sizeSlider.value; sizeValue.textContent = particleSize; init(); };
speedSlider.oninput = () => { particleSpeed = +speedSlider.value; speedValue.textContent = particleSpeed; updateSpeed(); };
linkSlider.oninput = () => { linkDistance = +linkSlider.value; linkValue.textContent = linkDistance; };

class Particle {
  constructor(x, y, size, color, velocity) {
    this.x = x;
    this.y = y;
    this.size = size;
    this.color = color;
    this.velocity = velocity;
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    ctx.fillStyle = this.color;
    ctx.fill();
  }

  update(particles) {
    this.x += this.velocity.x;
    this.y += this.velocity.y;

    // Bounce off edges
    if(this.x + this.size > canvas.width || this.x - this.size < 0) this.velocity.x = -this.velocity.x;
    if(this.y + this.size > canvas.height || this.y - this.size < 0) this.velocity.y = -this.velocity.y;

    // Mouse interaction
    let dx = mouse.x - this.x;
    let dy = mouse.y - this.y;
    let dist = Math.sqrt(dx*dx + dy*dy);
    if(dist < mouse.radius + this.size) {
      const angle = Math.atan2(dy, dx);
      const force = (mouse.radius - dist) / mouse.radius;
      this.velocity.x -= force * Math.cos(angle);
      this.velocity.y -= force * Math.sin(angle);
    }

    this.draw();
  }
}

let particlesArray;

function init() {
  particlesArray = [];
  for(let i=0; i<particleCount; i++) {
    const size = particleSize;
    const x = Math.random() * (canvas.width - size*2) + size;
    const y = Math.random() * (canvas.height - size*2) + size;
    const color = `hsl(${Math.random()*360}, 80%, 60%)`;
    const velocity = { x: (Math.random()-0.5)*particleSpeed, y: (Math.random()-0.5)*particleSpeed };
    particlesArray.push(new Particle(x, y, size, color, velocity));
  }
}

function updateSpeed() {
  particlesArray.forEach(p => {
    p.velocity.x = (Math.random()-0.5)*particleSpeed;
    p.velocity.y = (Math.random()-0.5)*particleSpeed;
  });
}

function connectParticles() {
  for(let a=0; a<particlesArray.length; a++) {
    for(let b=a+1; b<particlesArray.length; b++) {
      let dx = particlesArray[a].x - particlesArray[b].x;
      let dy = particlesArray[a].y - particlesArray[b].y;
      let distance = Math.sqrt(dx*dx + dy*dy);
      if(distance < linkDistance) {
        ctx.beginPath();
        ctx.strokeStyle = `rgba(255,255,255,${1 - distance/linkDistance})`;
        ctx.lineWidth = 1;
        ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
        ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
        ctx.stroke();
        ctx.closePath();
      }
    }
  }
}

function animate() {
  ctx.clearRect(0,0,canvas.width, canvas.height);
  particlesArray.forEach(p => p.update(particlesArray));
  connectParticles();
  requestAnimationFrame(animate);
}

init();
animate();
</script>
</body>
</html>
